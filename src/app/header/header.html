    <!-- Bande -->
<div class="promo-banner w-full border-b border-gray-200 relative">
  <div class="w-full max-w-[1920px] mx-auto
              flex flex-col md:flex-row
              items-center justify-between
              gap-3 md:gap-6
              px-4 sm:px-6 md:px-8
              py-2 md:py-3 2xl:py-6">

    <div class="hidden lg:flex items-center shrink-0 cursor-pointer"
         (click)="GoHomeClick()">
      <img src="assets/logo.png"
           class="h-14 xl:h-24 object-contain"
           alt="Logo Agence" />
    </div>

    <!-- Carrousel -->
    <div class="relative flex items-center justify-center
                h-14 sm:h-16 md:h-20
                overflow-hidden rounded-lg shadow bg-white
                w-full md:w-auto max-w-full md:max-w-[700px]
                mx-auto">

      <a [href]="bannerLinks[bannerIndex]" target="_blank" class="block h-full">
        <img
          [src]="bannerImages[bannerIndex]"
          class="h-full w-auto object-contain transition-opacity duration-500"
          [style.opacity]="imageOpacity"
          alt="Offres CSU">
      </a>

      <button (click)="previousBanner()"
        class="absolute left-1 top-1/2 -translate-y-1/2
               w-32 h-32 md:w-12 md:h-12
               flex items-center justify-center
               text-7xl text-green-600 hover:text-white
               hover:bg-green-600 rounded-full transition">
  ‹
</button>

<button (click)="nextBanner()"
        class="absolute right-1 top-1/2 -translate-y-1/2
               w-32 h-32 md:w-12 md:h-12
               flex items-center justify-center
               text-7xl text-green-600 hover:text-white
               hover:bg-green-600 rounded-full transition">
  ›
</button>

    </div>

<!-- Zone RSX -->
<div class="relative flex items-center ml-auto shrink-0">

  <!-- Bouton @ -->
  <button
    (click)="toggleSocials()"
    aria-label="Réseaux sociaux"
    class="w-9 h-9 flex items-center justify-center
           rounded-full bg-green-600 text-white
           text-lg font-bold shadow-md
           hover:scale-110 transition">
    @
  </button>

      <!-- Réseaux sociaux -->
      <div *ngIf="showSocials"
           class="absolute right-0 top-12
                  flex items-center gap-3
                  px-3 py-2
                  rounded-xl bg-white shadow-lg
                  z-50">

        <!-- Facebook -->
        <a href="https://facebook.com/CouvertureSanitaitrUniverselle"
           class="w-6 h-6 rotate-45 bg-blue-600 rounded-lg flex items-center justify-center">
          <svg viewBox="0 0 320 512" class="w-3.5 h-3.5 fill-white -rotate-45">
            <path d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 
            12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 
            225.36 0c-73.22 0-121.36 44.38-121.36 
            124.72v70.62H22.89V288h81.11v224h100.2V288z"/>
          </svg>
        </a>

        <!-- YouTube -->
        <a href="https://youtube.com/@sen_csu"
           class="w-6 h-6 rotate-45 bg-red-600 rounded-lg flex items-center justify-center">
          <svg viewBox="0 0 24 24" class="w-4 h-4 fill-white -rotate-45">
            <path d="M21.8 8s-.2-1.5-.8-2.1c-.8-.8-1.7-.8-2.1-.9C15.4 4.5 
            12 4.5 12 4.5h0s-3.4 0-5.9.5c-.4.1-1.3.1-2.1.9C3.4 
            6.5 3.2 8 3.2 8S3 9.7 3 11.4v1.2C3 
            14.3 3.2 16 3.2 16s.2 1.5.8 2.1c.8.8 
            1.9.8 2.4.9 1.7.2 5.6.5 5.6.5s3.4 
            0 5.9-.5c.4-.1 1.3-.1 2.1-.9.6-.6.8-2.1.8-2.1s.2-1.7.2-3.4v-1.2c0-1.7-.2-3.4-.2-3.4zM10 14.5v-5l4 2.5-4 2.5z"/>
          </svg>
        </a>

        <!-- X -->
        <a href="https://x.com/sen_csu"
           class="w-6 h-6 rotate-45 bg-black rounded-lg flex items-center justify-center">
          <svg viewBox="0 0 24 24" class="w-4 h-4 fill-white -rotate-45">
            <path d="M18.9 2H22l-7.7 8.8L22 22h-7l-5.5-7L4.4 
            22H2l8.5-9.8L2 2h7l5 6.5L18.9 2z"/>
          </svg>
        </a>

        <!-- Instagram -->
        <a href="https://www.instagram.com/sen_csu_"
           class="w-6 h-6 rotate-45 rounded-lg
                  bg-gradient-to-tr from-yellow-400 via-pink-500 to-purple-600
                  flex items-center justify-center">
          <svg viewBox="0 0 24 24" class="w-4 h-4 fill-white -rotate-45">
            <path d="M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 
            5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm5 4.5A5.5 5.5 
            0 1 1 6.5 12 5.5 5.5 0 0 1 12 6.5zm0 9A3.5 3.5 0 1 0 8.5 
            12 3.5 3.5 0 0 0 12 15.5zM18 6.5a1.5 1.5 0 1 1-1.5-1.5A1.5 
            1.5 0 0 1 18 6.5z"/>
          </svg>
        </a>

        <!-- LinkedIn -->
        <a href="https://linkedin.com/company/sen-csu"
           class="w-6 h-6 rotate-45 bg-blue-500 rounded-lg flex items-center justify-center">
          <svg viewBox="0 0 24 24" class="w-4 h-4 fill-white -rotate-45">
            <path d="M4.98 3.5A2.5 2.5 0 1 1 2.5 1 
            2.5 2.5 0 0 1 4.98 3.5zM1 8h3v15H1zm6 
            0h3v2h.1c.4-.8 1.5-2 3.5-2 3.7 0 
            4.4 2.4 4.4 5.5V23h-3v-6.8c0-1.6 
            0-3.7-2.3-3.7-2.3 0-2.7 1.8-2.7 
            3.6V23H7z"/>
          </svg>
        </a>

      </div>
    </div>

    <!-- Admin -->
    <button class="hidden sm:block text-white"
            (click)="goToAdmin()">
      Admin
    </button>

  </div>
</div>


  <!-- Menu Desktop -->
<nav
  class="hidden lg:flex flex-col
         bg-green-600 z-40
         pl-4 mr-10 md:pl-8 pt-1 mt-1
         ml-10 pr-70 rounded-xl">
    <!-- Navigation principale desktop -->
    <div class="flex items-center gap-x-6 text-[21px] font-sharetech">
      <!-- Dropdown La SEN-CSU -->
      <div class="relative group">
        <button class="text-white hover:text-green-300 transition pb-1 border-b-4 border-transparent group-hover:border-gray-50"
        (click)="GoHomeClick()">
          La Sen-CSU ▾
        </button>
        <div
          class="absolute left-0 top-full w-56 bg-white shadow-lg ring-1 ring-gray-900/10 z-50
                 opacity-0 invisible group-hover:opacity-100 group-hover:visible
                 transition-all duration-200"
        >
          <ul class="flex flex-col text-green-600 font-medium">
            <li>
              <button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" (click)="onAboutClick()">
                A propos de l'agence
              </button>
            </li>
            <li>
              <button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" (click)="openMissionsvision.emit()">
                Vision et Missions
              </button>
            </li>
            <li>
              <button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" (click)="showOrganigrammeClick()">
                Organigramme
              </button>
            </li>
            <li>
              <button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" (click)="goToAppelsOffre()">
                Appels d'offres
              </button>
            </li>

            <!-- Sous-dropdown Publications -->
            <li class="relative group/publications">
              <button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white flex justify-between items-center">
                Publications <span class="text-sm">></span>
              </button>
              <ul
                class="absolute left-full top-0 ml-1 w-56 bg-white border border-gray-200 shadow-lg
                       opacity-0 invisible group-hover/publications:opacity-100 group-hover/publications:visible
                       transition-all duration-200 z-50"
              >
                <li>
                  <button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" (click)="goToRapports()">
                    Rapports officiels
                  </button>
                </li>
                <li>
                  <button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" (click)="goToGuide()">
                    Guides
                  </button>
                </li>
                <li>
                  <button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" (click)="goToDecret()">
                    Décrets
                  </button>
                </li>
                <li>
                  <button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" (click)="goToManuel()">
                    Manuels d'audit
                  </button>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>

<!-- Dropdown Assurance Maladie -->
<div class="relative group">
  <button
    class="text-white hover:text-green-300 transition pb-1 border-b-4 border-transparent group-hover:border-gray-50"
  >
    Assurance Maladie ▾
  </button>

  <div
    class="absolute left-0 top-full w-56 bg-white shadow-lg ring-1 ring-gray-900/10 z-50
           opacity-0 invisible group-hover:opacity-100 group-hover:visible
           transition-all duration-200"
  >
    <ul class="flex flex-col text-green-600 font-medium">
      <li>
        <button
          class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white"
          (click)="goToCSU()"
        >
          CSU
        </button>
      </li>

      <li>
        <button
          class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white"
          (click)="goToCSUEleve()"
        >
          CSU Élève
        </button>
      </li>

      <li>
        <button
          class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white"
          (click)="goToCSUDaara()"
        >
          CSU Daara
        </button>
      </li>
    </ul>
  </div>
</div>


      <!-- Dropdown Assistance médicale -->
      <div class="relative group">
        <button class="text-white hover:text-green-300 transition pb-1 border-b-4 border-transparent group-hover:border-gray-50">
          Assistance médicale ▾
        </button>
        <div
          class="absolute left-0 top-full w-[264px] bg-white shadow-lg ring-1 ring-gray-900/10 z-50
                 opacity-0 invisible group-hover:opacity-100 group-hover:visible
                 transition-all duration-200"
        >
          <ul class="flex flex-col text-green-600 font-medium">
            <li><button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" (click)="goToZero5ans()">0 à 5 ans</button></li>
            <li><button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" (click)="goToCesarienne()">Césarienne</button></li>
            <li><button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" (click)="goToDialyse()">Dialyse</button></li>
            <li><button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" (click)="goToPlanSesame()">Plan Sésame</button></li>
            <li><button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" (click)="goToPNBSF()">Bénéficiaires PNBSF</button></li>
            <li><button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" (click)="goToCEC()">Carte Égalité des chances</button></li>
            <li>
              <a href="https://sunucsu.sn/pharmacies" target="_blank" class="block w-full">
                <button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white">Nos pharmacies partenaires</button>
              </a>
            </li>
          </ul>
        </div>
      </div>
      
      <!-- Dropdown Espace Média -->
      <div class="relative group">
        <button class=" text-white hover:text-green-300 transition pb-1 border-b-4 border-transparent group-hover:border-gray-50">
          Espace Média ▾
        </button>
        <div
          class="absolute left-0 top-full w-56 bg-white shadow-lg ring-1 ring-gray-900/10 z-50
                 opacity-0 invisible group-hover:opacity-100 group-hover:visible
                 transition-all duration-200"
        >
          <ul class="flex flex-col text-green-600 font-medium">
            <li><button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" >Communiqués(en édition) </button></li>      <!-- (click)="goToComuPresse()" -->
            <li><button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" >Dossiers média(en édition)</button></li> <!-- (click)="goToMedia()" -->
            <li><button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" >Banque d'images(en édition)</button></li><!--(click)="goToBankImg()" -->
          </ul>
        </div>
      </div>
      
      <!-- Dropdown Assistance & Contact -->
      <div class="relative group">
        <button class="text-white hover:text-green-300 transition pb-1 border-b-4 border-transparent group-hover:border-gray-50">
          Assistance et Contact ▾
        </button>
        <div
          class="absolute left-0 top-full w-56 bg-white shadow-lg ring-1 ring-gray-900/10 z-50
                 opacity-0 invisible group-hover:opacity-100 group-hover:visible
                 transition-all duration-200"
        >
          <ul class="flex flex-col text-green-600 font-medium">
            <li><button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" (click)="goToContact()">Nous contacter</button></li>
             <li><button class="w-full text-left px-4 py-2 hover:bg-green-600 hover:text-white" (click)="goToSr()">Localiser une agence</button></li>
          </ul>
        </div>
      </div>

      <!-- Carrière -->
      <button (click)="goToCarriere()" class="text-white hover:text-green-300 transition pb-1 border-b-4 border-transparent group-hover:border-gray-50">
        Carrière
      </button> 

      <!-- Bouton Nous soutenir -->
      <button (click)="goToMaintenance()"
        class="border-2 border-yellow-500 text-yellow-500 font-semibold px-2.5 py-1.5 rounded-full mb-2 bg-green-600 hover:bg-yellow-400 hover:text-green-700 transition text-[18px]"
      >
        Nous soutenir
    </button>
    </div>
  </nav>

  <!-- Header Mobile -->
  <div class="flex lg:hidden items-center justify-between w-full px-6 md:px-8 mb-3">
    <!-- Logo mobile -->
    <div class="flex items-center shrink-0 cursor-pointer"
         (click)="GoHomeClick()">
      <img
        src="assets/logo.png"
        class="h-16 w-auto md:h-24 object-contain"
        alt="Logo Agence"
      />
    </div>
    
  <!-- Burger / Quitter -->
  <button
    class="p-2 border rounded-md font-sharetech"
    (click)="toggleMenu()"
    aria-label="Menu"
  >
    <!-- Burger -->
    <div *ngIf="!isMenuOpen" class="flex flex-col gap-1">
      <span class="block w-6 h-0.5 bg-green-700"></span>
      <span class="block w-6 h-0.5 bg-green-700"></span>
      <span class="block w-6 h-0.5 bg-green-700"></span>
    </div>

    <!-- Quitter -->
    <span *ngIf="isMenuOpen" class="text-2xl text-green-700 font-bold leading-none">
      ✕
    </span>
  </button>
  </div>

  <!-- Menu Mobile Optimisé -->
<div
  *ngIf="isMenuOpen"
  class="lg:hidden fixed inset-0 z-40"
  (click)="closeMobileMenu()"
>

  <!-- Fond sombre cliquable -->
  <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
<!-- Menu Mobile -->
<div
  class="absolute top-20 left-0 w-full
         rounded-b-lg bg-green-600 shadow-lg
         border-t border-gray-200 z-50"
  (click)="$event.stopPropagation()"
>

  <!-- Header du menu (zone dédiée) -->
  <div class="relative flex items-center justify-end px-4 py-3 border-b border-white/20">
    <button
      (click)="closeMobileMenu()"
      class="w-10 h-10 rounded-full
             bg-white/20 hover:bg-white/30
             text-white text-2xl font-bold
             flex items-center justify-center
             transition"
      aria-label="Fermer le menu"
    >
      ✕
    </button>
  </div>

  <!-- Contenu du menu -->
    <ul class="flex flex-col p-4 space-y-3 text-white font-semibold text-[18px]">
      <!-- SEN-CSU -->
      <li>
        <button class="w-full text-left py-2 cursor-pointer flex justify-between items-center"
                (click)="toggleMobileDropdown('sen')">
          La SEN-CSU
          <span>▾</span>
        </button>

        <div *ngIf="mobileDropdown.sen" class="pl-4 space-y-2 text-[16px]">
          <button (click)="onAboutClick(); closeMobileMenu()">A propos</button><br>
          <button (click)="openMissionsvision.emit(); closeMobileMenu()">Vision & Missions</button><br>
          <button (click)="showOrganigrammeClick(); closeMobileMenu()">Organigramme</button><br>
          <button (click)="goToAppelsOffre(); closeMobileMenu()">Appels d'offres</button>
          
          <!-- Publications dans le sous-menu SEN-CSU -->
          <!-- <button class="w-full text-left py-2 cursor-pointer flex justify-between items-center"
                  (click)="toggleMobileDropdown('publications')">
            Publications
            <span>▾</span>
          </button>
          
          <div *ngIf="mobileDropdown.publications" class="pl-4 space-y-2 text-[16px]">
            <button (click)="goToRapports(); closeMobileMenu()">Rapports officiels</button><br>
            <button (click)="goToGuide(); closeMobileMenu()">Guides</button><br>
            <button (click)="goToDecret(); closeMobileMenu()">Décrets</button><br>
            <button (click)="goToManuel(); closeMobileMenu()">Manuels d'audit</button>
          </div> -->
        </div>
      </li>

      <!-- Assistance médicale -->
      <li>
        <button class="w-full text-left py-2 cursor-pointer flex justify-between items-center"
                (click)="toggleMobileDropdown('assistance')">
          Assistance médicale
          <span>▾</span>
        </button>

        <div *ngIf="mobileDropdown.assistance" class="pl-4 space-y-2 text-[16px]">
          <button (click)="goToZero5ans(); closeMobileMenu()">0 à 5 ans</button><br>
          <button (click)="goToCesarienne(); closeMobileMenu()">Césarienne</button><br>
          <button (click)="goToDialyse(); closeMobileMenu()">Dialyse</button><br>
          <button (click)="goToPlanSesame(); closeMobileMenu()">Plan Sésame</button><br>
          <button (click)="goToPNBSF();closeMobileMenu()">Bénéficiaires PNBSF</button><br>
          <button (click)="goToCEC(); closeMobileMenu()">Carte égalité des chances</button><br>
          <a href="https://sunucsu.sn/pharmacies" target="_blank" class="block w-full">
            <button class="w-full text-left py-2 hover:text-green-600">Nos pharmacies partenaires</button>
          </a>
        </div>
      </li>

      <!-- Assurance Maladie -->
      <li>
<!-- Mobile Assurance Maladie -->
<button
  (click)="toggleMobileDropdown('assurance')"
  class="w-full text-left py-3 text-white font-semibold"
>
  Assurance Maladie ▾
</button>

<div *ngIf="mobileDropdown.assurance" class="pl-4 space-y-2">
  <button
    (click)="goToCSU(); closeMobileMenu()"
    class="block text-white/90"
  >
    CSU
  </button>

  <button
    (click)="goToCSUEleve(); closeMobileMenu()"
    class="block text-white/90"
  >
    CSU Élève
  </button>

  <button
    (click)="goToCSUDaara(); closeMobileMenu()"
    class="block text-white/90"
  >
    CSU Daara
  </button>
</div>
      </li>

      <!-- Espace Média -->
      <li>
        <button class="w-full text-left py-2 cursor-pointer flex justify-between items-center"
                (click)="toggleMobileDropdown('media')">
          Espace Média
          <span>▾</span>
        </button>
        <div *ngIf="mobileDropdown.media" class="pl-4 space-y-2 text-[16px]">
          <button (click)="closeMobileMenu()">Communiqués  (en édition) </button><br> <!-- goToComuPresse(); -->
          <button (click)="closeMobileMenu()">Dossiers média (en édition) </button><br> <!-- goToMedia();  -->
          <button (click)="closeMobileMenu()">Banque d'images (en édition) </button> <!--goToBankImg();  -->
        </div>
      </li>
      
      <!-- Assistance & Contact -->
      <li>
        <button class="w-full text-left py-2 cursor-pointer flex justify-between items-center"
                (click)="toggleMobileDropdown('contact')">
          Assistance & Contact
          <span>▾</span>
        </button>

        <div *ngIf="mobileDropdown.contact" class="pl-4 space-y-2 text-[16px]">
          <button (click)="goToContact(); closeMobileMenu()">Formulaire de contact</button><br>
        <button (click)="goToSr(); closeMobileMenu()">Localiser une agence</button><br>
        </div>
      </li>

      <!-- Carrière -->
      <li>
        <button (click)="goToCarriere(); closeMobileMenu()" class="block w-full text-left py-2">
          Carrière
        </button>
      </li>
      
      <!-- Bouton Nous soutenir -->
      <li class="pt-3">
        <a href="https://sunucsu.sn/initiatives"
          class="border-2 border-yellow-500 text-yellow-500 font-semibold px-3 py-2 
                 rounded-full w-full text-center bg-green-600 hover:bg-yellow-400 hover:text-green-700 transition"
        >
          Nous soutenir
        </a>
      </li>
    </ul>
  </div>