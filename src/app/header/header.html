<!-- Bande Publicitaire -->
<div class="promo-banner w-full bg-white border-b border-gray-200 relative">
  <div class="max-w-full 2xl:max-w-full
              flex flex-col md:flex-row 
              items-center justify-between gap-4
              px-6 md:px-8 py-3 md:py-5">
    <!-- Logo -->
    <div class="hidden lg:flex items-center shrink-0 cursor-pointer"
         (click)="GoHomeClick()">
      <img src="assets/logo.png"
           class="h-16 w-auto md:h-24 object-contain"
           alt="Logo Agence" />
    </div>

    <!-- Carrousel Publicitaire -->
    <div class="relative w-full md:flex-1 
                h-16 md:h-24 
                overflow-hidden rounded-xl shadow bg-white">
      <a [href]="bannerLinks[bannerIndex]" target="_blank" class="block w-full h-full">
        <img
          [src]="bannerImages[bannerIndex]"
          class="absolute inset-0 w-full h-full object-contain transition-opacity duration-500"
          [style.opacity]="imageOpacity"
          alt="Offres CSU">
      </a>

      <!-- Boutons -->
      <button
        (click)="previousBanner()"
        class="absolute left-2 top-1/2 -translate-y-1/2 bg-white/85 
               hover:bg-white text-green-700 px-2 py-1 md:px-3 md:py-1.5 
               rounded-full shadow-md text-sm md:text-base">
        ‹
      </button>

      <button
        (click)="nextBanner()"
        class="absolute right-2 top-1/2 -translate-y-1/2 bg-white/85 
               hover:bg-white text-green-700 px-2 py-1 md:px-3 md:py-1.5 
               rounded-full shadow-md text-sm md:text-base">
        ›
      </button>
    </div>

    <!-- Icônes réseaux sociaux -->
    <div class="hidden sm:flex items-center gap-3 shrink-0
                px-3 py-2 rounded-xl
                bg-white/60 md:bg-white/20
                backdrop-blur-md border border-white/30 shadow-md">

      <!-- Facebook -->
      <a href="https://facebook.com/CouvertureSanitaitrUniverselle" 
         class="w-6 h-6 md:w-5 md:h-5 rotate-45 transition-transform hover:rotate-[340deg] 
                flex items-center justify-center rounded-lg bg-blue-600">
        <div class="-rotate-45">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"
               class="w-3.5 h-3.5 fill-white md:w-3 md:h-3">
            <path d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 
              12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 
              0-121.36 44.38-121.36 124.72v70.62H22.89V288h81.11v224h100.2V288z"/>
          </svg>
        </div>
      </a>

      <!-- YouTube -->
      <a href="https://youtube.com/@sen_csu"
         class="w-6 h-6 md:w-5 md:h-5 rotate-45 bg-red-600 flex items-center justify-center rounded-lg hover:rotate-[340deg]">
        <div class="-rotate-45">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 md:w-3.5 md:h-3.5 text-white" fill="currentColor" viewBox="0 0 24 24">
            <path d="M21.8 8.001a2.756 2.756 0 0 0-1.94-1.948C17.924 5.5 12 5.5 12 5.5s-5.924 0-7.86.553A2.756 2.756 0 0 0 2.2 8.001 28.54 28.54 0 0 0 1.5 12a28.54 28.54 0 0 0 .7 3.999 2.756 2.756 0 0 0 1.94 1.948C6.076 18.5 12 18.5 12 18.5s5.924 0 7.86-.553A2.756 2.756 0 0 0 21.8 15.999 28.54 28.54 0 0 0 22.5 12a28.54 28.54 0 0 0-.7-3.999zM10 15.5v-7l6 3.5-6 3.5z"/>
          </svg>
        </div>
      </a>

      <!-- X (Twitter) -->
      <a href="https://x.com/sen_csu?s=21&t=6JWMaLzG-CZUjsMrrvT5Ag"
         class="w-6 h-6 md:w-5 md:h-5 bg-black rotate-45 rounded-lg flex items-center justify-center hover:rotate-[340deg]">
        <div class="-rotate-45">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 md:w-3.5 md:h-3.5 text-white" fill="currentColor" viewBox="0 0 24 24">
            <path d="M18.9 2H22l-7.7 8.8L22 22h-7l-5.5-7L4.4 22H2l8.5-9.8L2 2h7l5 6.5L18.9 2z"/>
          </svg>
        </div>
      </a>

      <!-- Instagram -->
      <a href="https://www.instagram.com/sen_csu_"
         class="w-6 h-6 md:w-5 md:h-5 rotate-45 rounded-lg bg-gradient-to-tr from-yellow-400 via-pink-500 to-purple-600 flex items-center justify-center hover:rotate-[300deg]">
        <div class="-rotate-45">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 md:w-3.5 md:h-3.5 text-white" fill="currentColor" viewBox="0 0 24 24">
            <path d="M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm10 2c1.7 0 3 1.3 3 3v10c0 1.7-1.3 3-3 3H7c-1.7 0-3-1.3-3-3V7c0-1.7 1.3-3 3-3h10zm-5 3.5A4.5 4.5 0 1 0 16.5 12 4.5 4.5 0 0 0 12 7.5zm0 7.3A2.8 2.8 0 1 1 14.8 12 2.8 2.8 0 0 1 12 14.8zM17.3 6a1.1 1.1 0 1 1-1.1 1.1A1.1 1.1 0 0 1 17.3 6z"/>
          </svg>
        </div>
      </a>

      <!-- LinkedIn -->
      <a href="https://linkedin.com/company/sen-csu"
         class="w-6 h-6 md:w-5 md:h-5 bg-blue-500 rotate-45 rounded-lg flex items-center justify-center hover:rotate-[340deg]">
        <div class="-rotate-45">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 md:w-3.5 md:h-3.5 text-white" fill="currentColor" viewBox="0 0 24 24">
            <path d="M4.98 3.5C4.98 4.88 3.88 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM.5 8h4V24h-4V8zm7 0h3.8v2.2h.1c.5-1 1.8-2.2 3.8-2.2 4 0 4.7 2.7 4.7 6.2V24h-4v-7.8c0-1.9 0-4.4-2.7-4.4-2.7 0-3.1 2.1-3.1 4.3V24h-4V8z"/>
          </svg>
        </div>
      </a>
    </div>
  <button class="text-white hidden sm:block" (click)="goToAdmin()">Admin</button>
  </div>
</div>

<header class="bg-white shadow-sm">
  <nav class="flex items-center justify-between px-6 md:px-8 h-16 relative
              max-w-full 2xl:max-w-full">


<!-- Header mobile -->
<div class="flex items-center justify-between w-full lg:hidden px-4 mb-3">
  
  <!-- Menu mobile -->

  <!-- Logo -->
  <div class="flex items-center shrink-0 cursor-pointer"
       (click)="GoHomeClick()">
    <img
      src="assets/logo.png"
      class="h-16 w-auto md:h-24 object-contain"
      alt="Logo Agence"
    />
  </div>
  <button
    class="flex flex-col gap-1 p-2 border rounded-md text-green-700 font-sharetech"
    (click)="toggleMenu()"
  >
    <span class="block w-6 h-0.5 bg-green-700"></span>
    <span class="block w-6 h-0.5 bg-green-700"></span>
    <span class="block w-6 h-0.5 bg-green-700"></span>
  </button>
</div>

<!-- Menu desktop -->
<div class="hidden lg:flex items-center gap-x-6 text-[21px] font-sharetech ml-auto">

  <!-- Dropdown La SEN-CSU -->
  <div class="relative group">
    <button class="text-green-700 hover:text-green-900 transition pb-1 border-b-4 border-transparent group-hover:border-green-500 hover:text-white0">
      La SEN-CSU▾
    </button>
    <div
      class="absolute left-0 top-full w-56 bg-white shadow-lg ring-1 ring-gray-900/10 z-50
             opacity-0 invisible group-hover:opacity-100 group-hover:visible
             transition-all duration-200"
    >
      <ul class="flex flex-col text-green-700 font-medium">
        <li>
          <button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="onAboutClick()">
            A propos de l'agence
          </button>
        </li>
        <li>
          <button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="openMissionsvision.emit()">
            Vision et Missions
          </button>
        </li>
        <li>
          <button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="showOrganigrammeClick()">
            Organigramme
          </button>
        </li>
        <li>
          <button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="goToAppelsOffre()">
            Appels d'offres
          </button>
        </li>

        <!-- Sous-dropdown Publications -->
        <li class="relative group/publications">
          <button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white flex justify-between items-center">
            Publications <span class="text-sm">></span>
          </button>
          <ul
            class="absolute left-full top-0 ml-1 w-56 bg-white border border-gray-200 shadow-lg
                   opacity-0 invisible group-hover/publications:opacity-100 group-hover/publications:visible
                   transition-all duration-200 z-50"
          >
            <li>
              <button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="goToRapports()">
                Rapports officiels
              </button>
            </li>
            <li>
              <button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="goToGuide()">
                Guides
              </button>
            </li>
            <li>
              <button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="goToDecret()">
                Décrets
              </button>
            </li>
            <li>
              <button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="goToManuel()">
                Manuels d’audit
              </button>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </div>

  <!-- Assurance maladie -->
  <button
    (click)="goToAssuranceMaladie()"
    class="text-green-700 hover:text-green-900 transition pb-1 border-b-4 border-transparent hover:border-green-500 hover:text-white0"
  >
    Assurance maladie▾
  </button>

  <!-- Dropdown Assistance médicale -->
  <div class="relative group">
    <button class="text-green-700 hover:text-green-900 transition pb-1 border-b-4 border-transparent group-hover:border-green-500 hover:text-white0">
      Assistance médicale▾
    </button>
    <div
      class="absolute left-0 top-full w-[264px] bg-white shadow-lg ring-1 ring-gray-900/10 z-50
             opacity-0 invisible group-hover:opacity-100 group-hover:visible
             transition-all duration-200"
    >
      <ul class="flex flex-col text-green-700 font-medium">
        <li><button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="goToZero5ans()">0 à 5 ans</button></li>
        <li><button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="goToCesarienne()">Césarienne</button></li>
        <li><button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="goToDialyse()">Dialyse</button></li>
        <li><button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="goToPlanSesame()">Plan Sésame</button></li>
        <li><button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white">Bénéficiaires PNBSF</button></li>
        <li><button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white">Carte Egalité des chances</button></li>
        <li>
          <a href="https://sunucsu.sn/pharmacies" target="_blank" class="block w-full">
            <button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white">Nos pharmacies partenaires</button>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <!-- Dropdown Espace Média -->
  <div class="relative group">
    <button class="text-green-700 hover:text-green-900 transition pb-1 border-b-4 border-transparent group-hover:border-green-500 hover:text-white0">
      Espace Média▾
    </button>
    <div
      class="absolute left-0 top-full w-56 bg-white shadow-lg ring-1 ring-gray-900/10 z-50
             opacity-0 invisible group-hover:opacity-100 group-hover:visible
             transition-all duration-200"
    >
      <ul class="flex flex-col text-green-700 font-medium">
        <li><button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="goToComuPresse()">Communiqués</button></li>
        <li><button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="goToMedia()">Dossiers média</button></li>
        <li><button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="goToBankImg()">Banque d’images</button></li>
      </ul>
    </div>
  </div>

  <!-- Dropdown Assistance & Contact -->
  <div class="relative group">
    <button class="text-green-700 hover:text-green-900 transition pb-1 border-b-4 border-transparent group-hover:border-green-500 hover:text-white0">
      Assistance et Contact▾
    </button>
    <div
      class="absolute left-0 top-full w-56 bg-white shadow-lg ring-1 ring-gray-900/10 z-50
             opacity-0 invisible group-hover:opacity-100 group-hover:visible
             transition-all duration-200"
    >
      <ul class="flex flex-col text-green-700 font-medium">
        <li><button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="goToContact()">Formulaire de contact</button></li>
        <li><button class="w-full text-left px-4 py-2 hover:bg-green-500 hover:text-white" (click)="goToSr()">Localiser une agence</button></li>
      </ul>
    </div>
  </div>

  <!-- Carrière -->
    <button (click)="goToCarriere()" class="text-green-700 hover:text-green-900 transition pb-1 border-b-4 border-transparent hover:border-green-500 hover:text-white0">
    Carrière▾
    </button> 

  <!-- Bouton Nous soutenir -->
<a href="https://sunucsu.sn/initiatives"
    class="border-2 border-yellow-500 text-yellow-500 font-semibold px-3 py-2 rounded-full bg-white hover:bg-yellow-400 hover:text-white transition"
  >
    Nous soutenir
</a>
</div>

                 <!-- Affichage mobile -->
 <!-- Affichage Mobile Optimisé -->
<div
  *ngIf="isMenuOpen"
  class="lg:hidden absolute top-16 left-0 w-full rounded-b-lg bg-white shadow-lg border-t border-gray-200 z-[99999]"
>
  <ul class="flex flex-col p-4 space-y-3 text-green-700 font-semibold text-[18px]">

    <!-- SEN-CSU -->
    <li>
      <button class="w-full text-left py-2 cursor-pointer flex justify-between items-center"
              (click)="toggleMobileDropdown('sen')">
        La SEN-CSU
        <span>▾</span>
      </button>

      <div *ngIf="mobileDropdown.sen" class="pl-4 space-y-2 text-[16px]">
        <button (click)="onAboutClick(); closeMobileMenu()">A propos</button><br>
        <button (click)="openMissionsvision.emit(); closeMobileMenu()">Vision & Missions</button><br>
        <button (click)="showOrganigrammeClick(); closeMobileMenu()">Organigramme</button><br>
        <button (click)="goToAppelsOffre(); closeMobileMenu()">Appels d'offres</button>
      </div>
    </li>

    <!-- Assistance médicale -->
    <li>
      <button class="w-full text-left py-2 cursor-pointer flex justify-between items-center"
              (click)="toggleMobileDropdown('assistance')">
        Assistance médicale
        <span>▾</span>
      </button>

      <div *ngIf="mobileDropdown.assistance" class="pl-4 space-y-2 text-[16px]">
        <button (click)="goToZero5ans(); closeMobileMenu()">0 à 5 ans</button><br>
        <button (click)="goToCesarienne(); closeMobileMenu()">Césarienne</button><br>
        <button (click)="goToDialyse(); closeMobileMenu()">Dialyse</button><br>
        <button (click)="goToPlanSesame(); closeMobileMenu()">Plan Sésame</button> <br>
        <button (click)="goToPlanSesame(); closeMobileMenu()">Bénéficiaires PNBSF</button><br>
        <button (click)="goToPlanSesame(); closeMobileMenu()">Carte égalité des chances</button>
      </div>
    </li>

    <!-- Assurance Maladie -->
    <li>
      <button (click)="goToAssuranceMaladie(); closeMobileMenu()"
              class="block w-full text-left py-2">
        Assurance maladie
      </button>
    </li>

    <!-- Espace Média -->
    <li>
      <button class="w-full text-left py-2 cursor-pointer flex justify-between items-center"
              (click)="toggleMobileDropdown('media')">
        Espace Média
        <span>▾</span>
      </button>

      <div *ngIf="mobileDropdown.media" class="pl-4 space-y-2 text-[16px]">
        <button (click)="goToComuPresse(); closeMobileMenu()">Communiqués</button><br>
        <button (click)="goToMedia(); closeMobileMenu()">Dossiers média</button><br>
        <button (click)="goToBankImg(); closeMobileMenu()">Banque d’images</button>
      </div>
    </li>

    <!-- Assistance & Contact -->
    <li>
      <button class="w-full text-left py-2 cursor-pointer flex justify-between items-center"
              (click)="toggleMobileDropdown('contact')">
        Assistance & Contact
        <span>▾</span>
      </button>

      <div *ngIf="mobileDropdown.contact" class="pl-4 space-y-2 text-[16px]">
        <button (click)="goToContact(); closeMobileMenu()">Formulaire de contact</button><br>
        <button (click)="goToSr(); closeMobileMenu()">Localiser une agence</button><br>
        <!-- <button (click)="goToContact(); closeMobileMenu()">Formulaires</button> -->
      </div>
    </li>

    <!-- Carrière -->
    <li>
      <button (click)="goToCarriere(); closeMobileMenu()" class="block w-full text-left py-2">
        Carrière
      </button>
    </li>
    <!-- Bouton Nous soutenir -->
    <li class="pt-3">
      <a href="https://sunucsu.sn/initiatives"
        class="border-2 border-yellow-500 text-yellow-500 font-semibold px-3 py-2 
               rounded-full w-full text-center bg-white hover:bg-yellow-400 hover:text-white transition"
      >
        Nous soutenir
    </a>
    </li>
  </ul>
</div>
  </nav>
</header>
