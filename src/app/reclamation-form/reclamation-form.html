<div class="font-exo2">

  <!-- ===== TITRE ===== -->
  <h2 class="text-3xl sm:text-4xl lg:text-4xl xl:text-5xl 2xl:text-6xl
             csu-title font-extrabold text-green-700 text-center
             mt-2 lg:mt-6 2xl:mt-12 mb-4 lg:mb-10 2xl:mb-16">
    Réclamation
  </h2>

  <div class="w-full bg-white lg:py-14 px-4">
    <div class="max-w-7xl 2xl:max-w-[1600px] mx-auto
                flex flex-col lg:flex-row
                gap-4 lg:gap-12 2xl:gap-20
                px-4 sm:px-6 lg:px-8 xl:px-16 2xl:px-24">

      <!-- ===== TEXTE GAUCHE ===== -->
      <div class="flex-1 max-w-[600px] text-gray-700 leading-relaxed text-base sm:text-lg xl:text-xl">
        <p>
          Vous avez rencontré un problème avec les services de la
          <span class="font-semibold text-green-700">SEN-CSU</span> ?
          Déposez votre réclamation ici et notre équipe vous répondra rapidement.
        </p>
      </div>

      <!-- ===== FORMULAIRE ===== -->
      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="grid grid-cols-1 sm:grid-cols-2 gap-5">

        <!-- Objet -->
        <select
          formControlName="subject"
          class="sm:col-span-2 w-full p-4 bg-white border border-gray-200 rounded-md">
          <option value="">Objet de la réclamation *</option>
          <option>Adhésion / Carte CSU</option>
          <option>Suivi / Prise en charge</option>
          <option>Autres</option>
        </select>
        <div *ngIf="hasError('subject', 'required')" class="sm:col-span-2 text-red-600 text-sm">
          L’objet de la réclamation est requis.
        </div>

        <!-- Message -->
        <textarea
          formControlName="message"
          placeholder="Décrivez votre problème *"
          class="sm:col-span-2 w-full h-36 p-4 bg-white border border-gray-200 rounded-md resize-none">
        </textarea>
        <div *ngIf="hasError('message', 'required')" class="sm:col-span-2 text-red-600 text-sm">
          Le message est requis.
        </div>

        <!-- Nom -->
        <input type="text" formControlName="fullname" placeholder="Nom complet *"
               class="w-full p-4 bg-white border border-gray-200 rounded-md" />
        <div *ngIf="hasError('fullname', 'required')" class="text-red-600 text-sm">
          Le nom est requis.
        </div>

        <!-- Email -->
        <input type="email" formControlName="email" placeholder="E-mail *"
               class="w-full p-4 bg-white border border-gray-200 rounded-md" />
        <div *ngIf="hasError('email', 'required')" class="text-red-600 text-sm">L’e-mail est requis.</div>
        <div *ngIf="hasError('email', 'email')" class="text-red-600 text-sm">L’e-mail n’est pas valide.</div>

        <!-- Téléphone -->
        <input type="text" formControlName="phone" placeholder="Téléphone"
               class="w-full p-4 bg-white border border-gray-200 rounded-md" />

        <!-- Bouton -->
        <button type="submit"
          [disabled]="loading || form.invalid"
          class="sm:col-span-2 mt-3 bg-green-700 text-white py-3 rounded-md font-semibold hover:bg-green-800 transition flex items-center justify-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed">
          <span *ngIf="!loading">Envoyer la réclamation ➜</span>
          <span *ngIf="loading">Envoi en cours...</span>
        </button>

        <p *ngIf="submitted && !errorMsg" class="sm:col-span-2 text-green-700 text-center font-medium mt-2">
          ✔️ Réclamation envoyée avec succès !
        </p>

        <p *ngIf="errorMsg" class="sm:col-span-2 text-red-600 text-center font-medium mt-2">
          ❌ {{ errorMsg }}
        </p>

      </form>

    </div>
  </div>
</div>
